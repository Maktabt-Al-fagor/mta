<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>برمجة المتاهة</title>
    <style>
        /* إضافة تنسيق بسيط */
        #gameCanvas {
            border: 1px solid #000;
            margin: 20px;
        }
        #codeInput {
            width: 100%;
            height: 100px;
        }
    </style>
</head>
<body>
    <h1>لعبة برمجة المتاهة</h1>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <textarea id="codeInput" placeholder="اكتب تعليماتك هنا..."></textarea>
    <button onclick="runCode()">تشغيل الكود</button>
    <script>
        const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// تعريف المتاهة
const maze = [
    [1, 1, 1, 1, 1, 1],
    [1, 0, 0, 0, 0, 1],
    [1, 0, 1, 1, 0, 1],
    [1, 0, 0, 0, 0, 1],
    [1, 1, 1, 1, 0, 1],
    [1, 1, 1, 1, 0, 0]
];

const cellSize = 60;
const player = { x: 1, y: 1, direction: 'right' };

function drawMaze() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let row = 0; row < maze.length; row++) {
        for (let col = 0; col < maze[row].length; col++) {
            ctx.fillStyle = maze[row][col] === 1 ? 'black' : 'white';
            ctx.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);
        }
    }
    ctx.fillStyle = 'red';
    ctx.fillRect(player.x * cellSize, player.y * cellSize, cellSize, cellSize);
}

function moveForward() {
    switch (player.direction) {
        case 'right':
            if (player.x + 1 < maze[0].length && maze[player.y][player.x + 1] === 0) player.x++;
            break;
        case 'left':
            if (player.x - 1 >= 0 && maze[player.y][player.x - 1] === 0) player.x--;
            break;
        case 'down':
            if (player.y + 1 < maze.length && maze[player.y + 1][player.x] === 0) player.y++;
            break;
        case 'up':
            if (player.y - 1 >= 0 && maze[player.y - 1][player.x] === 0) player.y--;
            break;
    }
}

function turnLeft() {
    switch (player.direction) {
        case 'right': player.direction = 'up'; break;
        case 'left': player.direction = 'down'; break;
        case 'down': player.direction = 'right'; break;
        case 'up': player.direction = 'left'; break;
    }
}

function turnRight() {
    switch (player.direction) {
        case 'right': player.direction = 'down'; break;
        case 'left': player.direction = 'up'; break;
        case 'down': player.direction = 'left'; break;
        case 'up': player.direction = 'right'; break;
    }
}

function executeCode(code) {
    const commands = code.split(';').map(cmd => cmd.trim()).filter(cmd => cmd.length > 0);
    commands.forEach(cmd => {
        switch (cmd) {
            case 'moveForward()': moveForward(); break;
            case 'turnLeft()': turnLeft(); break;
            case 'turnRight()': turnRight(); break;
            default: console.log(`Unknown command: ${cmd}`);
        }
    });
    drawMaze();
}

function runCode() {
    const codeInput = document.getElementById('codeInput').value;
    executeCode(codeInput);
}

drawMaze();  // رسم المتاهة عند تحميل الصفحة

    </script>
</body>
</html> -->
